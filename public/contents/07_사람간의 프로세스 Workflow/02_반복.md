# 반복
2.1 Loop(기능개선제안)
이번 장에서는 사용자가 기능개선의 조건으로 진행한 경우

기능개선 내용을 제안할 수 있는 업무로 분기할 수 있도록 개선시켜 보자.

이때 개선조건이 충족될 때까지 반복하여 수행할 수 있도록

“반복흐름” 유형을 배워 보도록 하겠다.



7-11
그림 7-11) 최종 프로세스 화면
![](/contents/07_사람간의%20프로세스%20Workflow/02/img1.png)




조건 분기의 Case 2의 Request for improvement에서 앞 장에서

만든 빈 작업 액티비티를 삭제하고 사용할 기능개선제안

프로세스를 다음과 같이 작성한다.

Gateway액티비티를 먼저 설치한 후 일반사람 업무 액티비티

두 개를 추가하여 루프 안에 배치한다.

간단한 형태이므로 플로우 차트의 작성과정은 생략하도록 하겠다.

추가할 변수와 액티비티 별 변수 설정은 다음과 같다.

* 변수정의

|프로세스 변수 ID	|프로세스 변수 명칭(화면출력용)|	데이터 형식|
|:------------:|:----------------------:|:----------:|
|contents	|contents|	Text|
|approved	|approved	|Yes or No|
* 액티비티 정의

|액티비티	|담당역할|	Parameter|
|:------------:|:----------------------:|:----------:|
|제안	|Right person(테스터)|	Contents|
|심사	|Trouble manager|	Contents(→), approved|
Suggestion 액티비티의 Right person은 누군지 정해지지 않은 상태이므로 정의시에 롤피커로 Right person을 특정인물에 direct-mapping해준다.

* 반복흐름 액티비티 정의

|조건 변수|	조건|	값|
|:-----:|:--:|:---:|
|approved|	==|	No(Directvalue)|




7-12
그림 7-12) 반복 조건 설정
![](/contents/07_사람간의%20프로세스%20Workflow/02/img2.png)




이와 같이 설정한 후 저장하고 실행시켜 본다.

제안 승인 부분에서 approved 변수를 no를 선택하였을 경우

업무가 다시 반복됨을 확인할 수 있다.



7-13
그림 7-13) Loop 화면
![](/contents/07_사람간의%20프로세스%20Workflow/02/img3.png)


